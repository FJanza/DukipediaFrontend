---
import {convertToEmbed} from "../lib/utils";

const {dateUTCminus3, imgUrl, shortTitle, url, singers} = Astro.props;
---

<div class="relative card hover:brightness-110" id={`${dateUTCminus3}`}>
  <div
    class="relative -mt-[16px] md:-mt-[31px] -mb-[25px] md:-mb-[30px] clip-sm-image-yt md:clip-md-image-yt"
  >
    <img
      src={imgUrl}
      alt={`Portada del Ã¡lbum ${shortTitle}`}
      class="max-w-56 max-h-56 md:max-w-80 md:max-h-96 object-cover"
    />

    <a
      class="absolute z-20 top-28 right-3 video-container"
      data-clip-item
      data-url={convertToEmbed(url) ?? "dQw4w9WgXcQ"}
    >
      <button
        class="button absolute bottom-6 -right-1 md:bottom-7 md:right-2 bg-teal-700/40 rounded-full p-1"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-8 w-8 text-white"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"
          ></path>
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
      </button>
    </a>
  </div>
  <div class="p-4 bg-black/50 absolute z-30 bottom-0 w-full">
    <h3 class="text-white text-sm md:text-lg font-semibold">
      {shortTitle}
    </h3>
    <p class="text-gray-400 text-xs md:text-sm mt-1 max-w-[40ch]">
      {singers}
    </p>
  </div>
</div>
