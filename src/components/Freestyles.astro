---
import { getCollection } from "astro:content";
import FreestyleCarrusel from "./FreestyleCarrusel"
import Modal from "./Modal.astro";

const freestyles = await getCollection("freestyles");
const sortedFreestyles = freestyles.sort(
  (a, b) => new Date(a.data.date).getTime() - new Date(b.data.date).getTime()
);
---

<article class="relative h-svh w-full flex justify-center items-start pt-32 lg:pt-16 xl:pt-24">
  <div class="flex flex-col gap-5 md:gap-20 w-full px-3 md:px-16 z-20">
    <h1 class="text-3xl md:text-5xl font-bold px-3 text-center">
      Mejores minutos de Duki en competencias
    </h1>
    <Modal />
    <div class="h-1/2 md:h-[55svh]">
      <FreestyleCarrusel client:visible freestyles={sortedFreestyles} server:defer>
        <h2>cargando</h2>
      </FreestyleCarrusel>
     </div>
  </div>
  <img
    src="/duki-rubio-cantando.png"
    class="absolute h-svh w-svw top-0 left-0 object-center"
  />
</article>
